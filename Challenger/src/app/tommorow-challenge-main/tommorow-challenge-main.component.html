<div class="container">
	<h2 class="text-dark">Tommorow's Challenge</h2>
	<nav class="navbar navbar-expand-sm navbar-dark d-block d-sm-none panelTheme" style="background-color: #222">
		<div class="container">

			<div class="row mx-auto">
				<div class="d-flex flex-row">
					<button class="btn btn-dark m-1" (click)="sortByTop()">Top</button>
					<button class="btn btn-dark m-1" (click)="sortByRecent()">Recent</button>
					<button class="btn btn-dark m-1" (click)="sortByHated()">Hated</button>
					<button class="btn btn-dark m-1" (click)="openModal(template)"><i class="fa fa-plus" aria-hidden="true"></i></button>
				</div>
			</div>

			<div class="row mx-auto">
				<div class="d-flex flex-row">
					<div class="btn-group">
						<input type="text" class="form-control" placeholder="Search">
						<button class="btn btn-dark">Search</button>
					</div>
				</div>
			</div>
		</div>
	</nav>

	<nav class="navbar navbar-expand-sm navbar-dark d-none d-sm-block d-md-none panelTheme" style="background-color: #222">
		<div class="container">

			<div class="row mx-auto">
				<div class="d-flex flex-row ">
					<div class="btn-group">
						<button class="btn btn-dark" (click)="sortByTop()">Top</button>
						<button class="btn btn-dark" (click)="sortByRecent()">Recent</button>
						<button class="btn btn-dark" (click)="sortByHated()">Hated</button>
						<button class="btn btn-dark" (click)="openModal(template)"><i class="fa fa-plus" aria-hidden="true"></i></button>
					</div>
				</div>
			</div>

			<div class="row mx-auto">
				<div class="d-flex flex-row ">
					<div class="btn-group">
						<input type="text" class="form-control" placeholder="Search">
						<button class="btn btn-dark">Search</button>
					</div>
				</div>
			</div>
		</div>
	</nav>


	<!-- Toolbar -->
	<nav class="navbar navbar-expand-sm navbar-dark d-none d-sm-none d-md-block panelTheme" style="background-color: #222">
		<div class="container">

			<div class="row float-left">
				<div class="d-flex flex-row">
					<div class="btn-group">
						<button class="btn btn-dark" (click)="sortByTop()">Top</button>
						<button class="btn btn-dark" (click)="sortByRecent()">Recent</button>
						<button class="btn btn-dark" (click)="sortByHated()">Hated</button>
					</div>
				</div>
			</div>
			<button class="btn btn-danger" (click)="loadsamplechallenges()">Load Sample Challenges</button>

			<div class="row float-right">
				<div class="d-flex flex-row">
					<div class="btn-group">
						<input type="text" class="form-control" placeholder="Search">
						<button class="btn btn-dark">Search</button>
						<button class="btn btn-dark" (click)="openModal(template)"><i class="fa fa-plus" aria-hidden="true"></i></button>
					</div>
				</div>
			</div>
		</div>
	</nav>

	<div *ngIf="dataloaded">
		<div *ngFor="let listitem of challengeListing">
			<app-challenge-response [channelInput]="listitem"></app-challenge-response>
		</div>
	</div>

</div>



<ng-template #template>
	<div class="modal-content">
		<div class="modal-header panelTheme">
			<h4 class="modal-title pull-left ">New Challenge</h4>
			<button type="button" class="close pull-right" style="color:white;" aria-label="Close" (click)="modalRef.hide()">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>

		<div class="modal-body panelTheme">
			<div class="d-flex flex-column mt-2 mx-auto">
				<form [formGroup]="newChallengeForm" (ngSubmit)="SubmitChallenge()">
					<div class="d-flex flex-row">
						<div class="form-group">
							<input type="text" formControlName="title" class="form-control mb-3" placeholder="Title">
							<textarea rows="6" formControlName="challengeText" cols="60" type="text" class="form-control" placeholder="Enter Comment"></textarea>
						</div>

					</div>
					<div class="d-flex flex-row justify-content-around">


						<div class="d-flex flex-column my-3 ">

							<image-upload [max]="1" [class]="'customClass'" (onFileUploadFinish)="imageUploaded($event)" [maxFileSize]="2500000"></image-upload>
							<!--<img class="mx-auto" src="http://www.emphysys.com/wp-content/uploads/2015/05/placeholder.png" 
						style="height: 180px;
						max-height: 195px;
						max-width: 150px;
						border-radius: 5px;
						border-width:5px;  
						border-style:inset;">

						<div class="form-group align-self-center">
							<div class="d-flex flex-row justify-content-around mt-5 align-self-center">
								<input type="text" class="form-control" placeholder="Enter URL">
								<button class="btn btn-dark">Browse</button>
							</div>
						</div> -->

						</div>

					</div>

					<div class="d-flex flex-row my-1 justify-content-center">

						<button class="btn btn-dark my-auto" [disabled]="newChallengeForm.valid==false" style="width:80px;">Submit</button>
						<button class="btn btn-dark my-auto" style="width:80px;" (click)="modalRef.hide()">Close</button>

					</div>

				</form>

			</div>
		</div>
	</div>
</ng-template>